!function(o,e,t,i){"use strict";function a(e,a){function n(){o("body").removeClass(function(o,e){return(e.match(/(^|\s)colorbox-\S+/g)||[]).join(" ")})}function d(){i.clearTimeout(r);var e={width:c.width||t.colorbox.maxWidth,height:c.height||t.colorbox.maxHeight};r=i.setTimeout(function(){if(o("#cboxOverlay").is(":visible")){var t=o("#cboxLoadedContent"),i=o(".cboxIframe",t);i.length?(t.addClass("media media--ratio"),i.attr("width",e.width).attr("height",e.height).addClass("media__element"),t.css({paddingBottom:e.height/e.width*100+"%",height:0}),o.colorbox.resize({innerWidth:e.width,innerHeight:e.height})):(t.removeClass("media media--ratio"),t.css({paddingBottom:"",height:e.height}).removeClass("media__element"))}},10)}var l=o(a),c=l.data("media")||{},h="image"!==c.type,m={rel:c.rel||null,iframe:h,title:function(){var o=l.next(".litebox-caption");return o.length?o.html():""},onComplete:function(){n(),o("body").addClass("colorbox-on colorbox-on--"+c.type),h&&(d(),o("body").addClass("colorbox-on--media"))},onClosed:function(){n()}};l.colorbox(o.extend({},t.colorbox,m))}var r;e.behaviors.blazyColorbox={attach:function(e){if(t.colorbox){if(t.colorbox.mobiledetect&&i.matchMedia){if(i.matchMedia("(max-device-width: "+t.colorbox.mobiledevicewidth+")").matches)return}o("[data-colorbox-trigger]",e).once("blazy-colorbox",a)}}}}(jQuery,Drupal,Drupal.settings,this);
